const pokemonRepository=function(){let d=[];function a(a){"object"==typeof a&&"name"in a?d.push(a):console.log("pokemon is not correct")}function b(){return d}function c(a){pokemonRepository.loadDetails(a).then(function(){let b=$(".modal-body"),c=$(".modal-title");c.empty(),b.empty();let d=new Image;d.src=a.imageUrl;let e=document.createElement("h2");e.innerHTML=`<h2>${a.name.toUpperCase()}<h2>`;let f=document.createElement("h4");f.innerHTML=`<h4>Height:${a.height}</h4>`;let g=document.createElement("h4");g.innerHTML=`<h4>Weight:${a.weight} </h4>`;let h=document.createElement("h4");h.innerHTML=`<h4>Types:${a.types}</h4>`,b.append(d),b.append(f),b.append(g),b.append(h),c.append(e)})}return{add:a,getAll:b,addListItem:function(d){let e=document.querySelector(".pokemon-list"),b=document.createElement("li"),a=document.createElement("button");a.innerText=d.name.toUpperCase(),a.classList.add("button","btn","btn-primary"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemonModal"),b.classList.add("group-list-item","list"),b.appendChild(a),e.appendChild(b),function(a,b){a.addEventListener("click",function(){c(b)})}(a,d)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=900").then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){let c={name:b.name,detailsUrl:b.url};a(c)})}).catch(function(a){console.error(a)})},loadDetails:function(a){let b=a.detailsUrl;return fetch(b).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(",")}).catch(function(a){console.error(a)})},showDetails:c}}();function searchFunction(){let c=document.getElementsByClassName("button"),d=$("#myInput").val().toLowerCase();for(let a of c){let b=a.textContent.toLowerCase();console.log(b),b.includes(d)?a.closest("li").style.display="inline-block":a.closest("li").style.display="none"}}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})});const search=document.getElementById("myInput");search.addEventListener("keyup",searchFunction)